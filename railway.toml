# railway.toml

# This section configures the build process.
# We're telling Railway to use the Dockerfile in your project.
[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

# This section configures the deployment and runtime behavior.
[deploy]
# Railway will use this path to perform health checks on your application.
# The root path "/" of golink should return a 200 OK if the server is running.
healthcheckPath = "/"
healthcheckTimeout = 300 # 5 minutes, generous timeout for a Go app

# Defines how Railway should handle failures.
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10 # Attempt to restart up to 10 times on failure

# Optional: This section can define files and directories to watch.
# Changes to these files can trigger automatic rebuilds on Railway if connected to a Git repo.
[watch]
watchPatterns = [
    "*.go",
    "go.mod",
    "go.sum",
    "schema.sql",
    "tmpl/*",
    "static/*",
    "Dockerfile",
    "railway.toml"
] 